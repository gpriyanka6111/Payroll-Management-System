(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>i,r:()=>d});var r=s(5155),a=s(2115),l=s(9708),n=s(2085),o=s(9434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:i=!1,...c}=e,u=i?l.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(d({variant:a,size:n,className:s})),ref:t,...c})});i.displayName="Button"},286:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2346:(e,t,s)=>{"use strict";s.d(t,{w:()=>o});var r=s(5155),a=s(2115),l=s(7489),n=s(9434);let o=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:o=!0,...d}=e;return(0,r.jsx)(l.b,{ref:t,decorative:o,orientation:a,className:(0,n.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...d})});o.displayName=l.b.displayName},2383:()=>{},2543:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3655:(e,t,s)=>{"use strict";s.d(t,{hO:()=>d,sG:()=>o});var r=s(2115),a=s(7650),l=s(9708),n=s(5155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let s=r.forwardRef((e,s)=>{let{asChild:r,...a}=e,o=r?l.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(o,{...a,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function d(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},3686:()=>{},3872:(e,t,s)=>{Promise.resolve().then(s.bind(s,6797))},5127:(e,t,s)=>{"use strict";s.d(t,{A0:()=>o,BF:()=>d,Hj:()=>i,XI:()=>n,nA:()=>u,nd:()=>c,r6:()=>m});var r=s(5155),a=s(2115),l=s(9434);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",s),...a})})});n.displayName="Table";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",s),...a})});o.displayName="TableHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...a})});d.displayName="TableBody",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})}).displayName="TableFooter";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})});i.displayName="TableRow";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})});c.displayName="TableHead";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})});u.displayName="TableCell";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...a})});m.displayName="TableCaption"},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},5943:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},6104:(e,t,s)=>{"use strict";let r,a,l;s.d(t,{db:()=>l,j2:()=>a});var n=s(3915),o=s(3004),d=s(5317);try{r=(0,n.Dk)().length?(0,n.Sx)():(0,n.Wp)({apiKey:"AIzaSyAkP18VtzDihlYGJYJoNsH48v83yHobkds",authDomain:"payroll-3582c.firebaseapp.com",projectId:"payroll-3582c",storageBucket:"payroll-3582c.firebasestorage.app",messagingSenderId:"595764753966",appId:"1:595764753966:web:33c2371bf504e8985e91bf",measurementId:"G-9TSQDML6N1"}),a=(0,o.xI)(r),l=(0,d.aU)(r)}catch(e){throw console.error("Firebase initialization error",e),Error("Failed to initialize Firebase. Please check your .env.local file and restart the server.")}},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>o,wL:()=>u});var r=s(5155),a=s(2115),l=s(9434);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});o.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});i.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},6797:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var r=s(5155),a=s(2115),l=s(285),n=s(2346),o=s(9434),d=s(6695),i=s(5127),c=s(3013);let u=e=>"number"!=typeof e||isNaN(e)?"$ --.--":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),m=e=>"number"!=typeof e||isNaN(e)?"--":e.toFixed(2);function h(e){let{companyName:t,payPeriod:s,result:a,input:l}=e,o=[{description:"Regular Pay",hours:a.checkHours,rate:a.payRateCheck,total:a.checkHours*a.payRateCheck},{description:"PTO Pay",hours:a.ptoUsed,rate:a.payRateCheck,total:a.ptoUsed*a.payRateCheck},{description:"Other Pay",hours:a.otherHours,rate:a.payRateOthers,total:a.otherHours*a.payRateOthers},{description:"Other Adjustments",hours:"-",rate:"-",total:a.otherAdjustment}].filter(e=>0!==e.total||"Other Adjustments"===e.description&&0!==e.total),h=a.grossCheckAmount+a.grossOtherAmount;return(0,r.jsxs)(d.Zp,{className:"payslip-card shadow-md break-inside-avoid border border-border print:shadow-none print:border-gray-300",children:[(0,r.jsx)(d.aR,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(d.ZB,{className:"text-xl text-primary",children:a.name}),(0,r.jsxs)(d.BT,{children:[t," Payslip"]})]}),(0,r.jsxs)("div",{className:"text-right text-xs",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Pay Period:"}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:[(0,c.GP)(s.from,"MM/dd/yy")," - ",(0,c.GP)(s.to,"MM/dd/yy")]}),(0,r.jsx)("p",{className:"font-semibold mt-1",children:"Pay Date:"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:(0,c.GP)(new Date,"MM/dd/yyyy")})]})]})}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Hours Summary (hrs)"}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-center border rounded-md p-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total"}),(0,r.jsx)("p",{className:"font-medium tabular-nums",children:m(a.totalHoursWorked)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Check"}),(0,r.jsx)("p",{className:"font-medium tabular-nums",children:m(a.checkHours)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Other"}),(0,r.jsx)("p",{className:"font-medium tabular-nums",children:m(a.otherHours)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"PTO"}),(0,r.jsx)("p",{className:"font-medium tabular-nums",children:m(a.ptoUsed)})]})]})]}),(0,r.jsx)(n.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Earnings"}),(0,r.jsxs)(i.XI,{children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{children:"Description"}),(0,r.jsx)(i.nd,{className:"text-right",children:"Hours"}),(0,r.jsx)(i.nd,{className:"text-right",children:"Rate"}),(0,r.jsx)(i.nd,{className:"text-right",children:"Total"})]})}),(0,r.jsx)(i.BF,{children:o.map((e,t)=>(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nA,{children:e.description}),(0,r.jsx)(i.nA,{className:"text-right tabular-nums",children:"number"==typeof e.hours?m(e.hours):e.hours}),(0,r.jsx)(i.nA,{className:"text-right tabular-nums",children:"number"==typeof e.rate?u(e.rate):e.rate}),(0,r.jsx)(i.nA,{className:"text-right tabular-nums",children:u(e.total)})]},t))})]})]}),(0,r.jsx)(n.w,{}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Gross Pay"}),(0,r.jsx)("span",{className:"font-semibold tabular-nums",children:u(h)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Deductions"}),(0,r.jsx)("span",{className:"font-semibold tabular-nums",children:u(0)})]})]})]}),(0,r.jsx)(d.wL,{children:(0,r.jsxs)("div",{className:"flex justify-between w-full p-3 bg-muted/50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-lg font-bold",children:"Net Pay"}),(0,r.jsx)("span",{className:"text-lg font-bold tabular-nums",children:u(h)})]})})]})}var x=s(2543),p=s(5943);let f=(0,s(157).A)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);var y=s(286),j=s(5695),b=s(8856),N=s(7600),g=s(5317),v=s(6104),w=s(6874),k=s.n(w),P=s(3925);let A=e=>{let t=Number(e);return isNaN(t)?"$ --.--":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)},S=e=>{let t=Number(e);return isNaN(t)?"--":t.toFixed(2)};function R(){let e=(0,j.useRouter)(),t=(0,j.useSearchParams)(),{user:s}=(0,N.A)(),d=t.get("id"),[u,m]=a.useState([]),[w,R]=a.useState([]),[O,E]=a.useState(null),[H,C]=a.useState(!0),[D,I]=a.useState("My Small Business"),[T,M]=a.useState({});if(a.useEffect(()=>{let t=async()=>{if(C(!0),d&&s)try{let t=(0,g.H9)(v.db,"users",s.uid),r=await (0,g.x7)(t);r.exists()&&I(r.data().companyName||"My Small Business");let a=(0,g.H9)(v.db,"users",s.uid,"payrolls",d),l=await (0,g.x7)(a);if(l.exists()){let e=l.data(),[t,s,r]=e.fromDate.split("-").map(Number),[a,n,o]=e.toDate.split("-").map(Number);m(e.results),R(e.inputs),E({from:new Date(t,s-1,r),to:new Date(a,n-1,o)}),M({employee:e.summaryEmployee,deductions:e.summaryDeductions,netPay:e.summaryNetPay})}else console.error("Payroll document not found."),e.replace("/dashboard/payroll")}catch(t){console.error("Error fetching payroll data:",t),e.replace("/dashboard/payroll")}finally{C(!1)}else{let t=sessionStorage.getItem("payrollResultsData"),s=sessionStorage.getItem("payrollPeriodData"),r=sessionStorage.getItem("payrollInputData"),a=sessionStorage.getItem("companyName"),l=sessionStorage.getItem("payrollSummaryData");if(t&&s&&r){let e=JSON.parse(s);m(JSON.parse(t)),R(JSON.parse(r)),E({from:new Date(e.from),to:new Date(e.to)}),l&&M(JSON.parse(l)),a&&I(a),sessionStorage.removeItem("payrollResultsData"),sessionStorage.removeItem("payrollPeriodData"),sessionStorage.removeItem("payrollInputData"),sessionStorage.removeItem("companyName"),sessionStorage.removeItem("payrollSummaryData")}else e.replace("/dashboard/payroll/run");C(!1)}};s&&t()},[e,d,s]),H)return(0,r.jsxs)("div",{className:"space-y-4 p-6",children:[(0,r.jsx)(b.E,{className:"h-10 w-1/4"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(b.E,{className:"h-48 w-full"}),(0,r.jsx)(b.E,{className:"h-64 w-full"}),(0,r.jsx)(b.E,{className:"h-32 w-full"})]})]});if(!O||0===u.length||0===w.length)return(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)("p",{children:"No payroll data found or you do not have permission to view it."}),(0,r.jsx)(l.$,{onClick:()=>e.push("/dashboard/payroll/run"),children:"Start a new payroll run"})]});let L={totalGrossPay:u.reduce((e,t)=>e+t.grossCheckAmount+t.grossOtherAmount,0),totalNetPay:u.reduce((e,t)=>e+t.grossCheckAmount,0),totalOtherPay:u.reduce((e,t)=>e+t.grossOtherAmount,0),totalEmployees:u.length},B=[{label:"Rate/Check",getValue:e=>A(e.payRateCheck)+"/hr"},{label:"Rate/Others",getValue:e=>A(e.payRateOthers)+"/hr"},{label:"Others-ADJ $",getValue:e=>A(e.otherAdjustment)},{label:"Gross Check Amount",getValue:e=>A(e.grossCheckAmount),isBold:!0},{label:"Gross Other Amount",getValue:e=>A(e.grossOtherAmount),isBold:!0},{label:"New PTO Balance",getValue:e=>"(".concat(S(e.newPtoBalance),")")}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"report-actions flex justify-between items-center",children:[(0,r.jsxs)(l.$,{variant:"outline",onClick:()=>e.back(),children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Back"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,r.jsx)(l.$,{variant:"outline",asChild:!0,children:(0,r.jsxs)(k(),{href:"/dashboard/payroll/run?id=".concat(d),children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Edit"]})}),(0,r.jsxs)(l.$,{variant:"outline",onClick:()=>{if(!O||!u.length)return;let e=P.Wp.book_new(),t=[];t.push([D]),t.push(["Pay Period: ".concat((0,c.GP)(O.from,"LLL dd, yyyy")," - ").concat((0,c.GP)(O.to,"LLL dd, yyyy"))]),t.push([]);let s=["Metric",...u.map(e=>e.name)];t.push(s);let r=u.map(e=>e.employeeId),a=[{label:"TOTAL HOURS WORKED",getValue:e=>S(e.totalHoursWorked).toString()},{label:"CHECK HOURS",getValue:e=>S(e.checkHours).toString()},{label:"OTHER HOURS",getValue:e=>S(e.otherHours).toString()},{label:"PTO USED",getValue:e=>S(e.ptoUsed).toString()},{label:"RATE/CHECK",getValue:e=>e.payRateCheck.toFixed(2)},{label:"RATE/OTHERS",getValue:e=>e.payRateOthers.toFixed(2)},{label:"OTHERS-ADJ ($)",getValue:e=>e.otherAdjustment.toFixed(2)},{label:"GROSS CHECK AMOUNT",getValue:e=>e.grossCheckAmount.toFixed(2)},{label:"GROSS OTHER AMOUNT",getValue:e=>e.grossOtherAmount.toFixed(2)},{label:"NEW PTO BALANCE",getValue:e=>S(e.newPtoBalance).toString()}];a.forEach(e=>{let s=[e.label];r.forEach(t=>{let r=u.find(e=>e.employeeId===t);s.push(r?e.getValue(r):"")}),t.push(s)}),t.push([]),t.push([]),t.push(["PAYROLL SUMMARY"]),t.push(["GP","EMPLOYEE","DED:","NET","OTHERS"]),t.push([L.totalNetPay.toFixed(2),T.employee||"",T.deductions||"",T.netPay||"",L.totalOtherPay.toFixed(2)]);let l=P.Wp.aoa_to_sheet(t);l["!cols"]=[{wch:30},...u.map(()=>({wch:20}))];let n=[{hpt:24},{hpt:18},{},{hpt:20}];a.forEach(()=>n.push({hpt:15})),n.push({},{},{hpt:20},{hpt:15},{hpt:15}),l["!rows"]=n,P.Wp.book_append_sheet(e,l,"Payroll Report");let o="Payroll_Report_".concat((0,c.GP)(O.from,"yyyy-MM-dd"),"_to_").concat((0,c.GP)(O.to,"yyyy-MM-dd"),".xlsx");P._h(e,o)},children:[(0,r.jsx)(f,{className:"mr-2 h-4 w-4"})," Export"]})]})]}),(0,r.jsxs)("div",{className:"report-content-wrapper border rounded-lg p-6 bg-card text-card-foreground",children:[(0,r.jsxs)("header",{className:"report-header text-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:D}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Payroll Report"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Pay Period: ",(0,c.GP)(O.from,"LLL dd, y")," - ",(0,c.GP)(O.to,"LLL dd,y")]})]}),(0,r.jsx)(n.w,{className:"my-6"}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payroll Inputs"}),(0,r.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,r.jsxs)(i.XI,{className:"w-auto",children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{className:"font-bold min-w-[200px]",children:"Metric"}),w.map(e=>(0,r.jsx)(i.nd,{className:"text-right",children:e.name},e.employeeId))]})}),(0,r.jsx)(i.BF,{children:[{key:"totalHoursWorked",label:"TOTAL HOURS WORKED"},{key:"checkHours",label:"CHECK HOURS"},{key:"otherHours",label:"OTHER HOURS"},{key:"ptoUsed",label:"PTO USED"}].map(e=>(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nA,{className:"font-medium",children:e.label}),w.map(t=>(0,r.jsx)(i.nA,{className:"text-right tabular-nums",children:"ptoUsed"===e.key?"(".concat(S(t[e.key]),")"):S(t[e.key])},t.employeeId))]},e.key))})]})})]}),(0,r.jsx)(n.w,{className:"my-6"}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payroll Results"}),(0,r.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,r.jsxs)(i.XI,{className:"w-auto",children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{className:"font-bold min-w-[200px]",children:"Metric"}),u.map(e=>(0,r.jsx)(i.nd,{className:"text-right",children:e.name},e.employeeId))]})}),(0,r.jsx)(i.BF,{children:B.map(e=>(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nA,{className:(0,o.cn)("font-medium",e.isBold&&"font-bold"),children:e.label}),u.map(t=>(0,r.jsx)(i.nA,{className:(0,o.cn)("text-right tabular-nums",{"font-semibold":e.isBold}),children:e.getValue(t)},t.employeeId))]},e.label))})]})})]}),(0,r.jsx)(n.w,{className:"my-6"}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payroll Summary"}),(0,r.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,r.jsxs)(i.XI,{children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{children:"GP"}),(0,r.jsx)(i.nd,{children:"EMPLOYEE"}),(0,r.jsx)(i.nd,{children:"DED:"}),(0,r.jsx)(i.nd,{children:"NET"}),(0,r.jsx)(i.nd,{children:"Others"})]})}),(0,r.jsx)(i.BF,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nA,{className:"font-semibold tabular-nums",children:A(L.totalNetPay)}),(0,r.jsx)(i.nA,{children:T.employee||"-"}),(0,r.jsx)(i.nA,{children:T.deductions||"-"}),(0,r.jsx)(i.nA,{children:T.netPay||"-"}),(0,r.jsx)(i.nA,{className:"font-semibold tabular-nums",children:A(L.totalOtherPay)})]})})]})})]})]}),(0,r.jsxs)("div",{className:"payslip-section mt-8 printable-section",children:[(0,r.jsx)("header",{className:"flex items-center justify-between mb-6",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,r.jsx)(y.A,{className:"mr-2 h-5 w-5"})," Individual Payslips"]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"A payslip for each employee included in this payroll run."})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 print:grid-cols-1",children:u.map(e=>{let t=w.find(t=>t.employeeId===e.employeeId);return t?(0,r.jsx)(h,{companyName:D,payPeriod:O,result:e,input:t},e.employeeId):null})})]})]})}function O(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"flex h-screen items-center justify-center",children:"Loading Report..."}),children:(0,r.jsx)(R,{})})}},7489:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});var r=s(2115),a=s(3655),l=s(5155),n="horizontal",o=["horizontal","vertical"],d=r.forwardRef((e,t)=>{var s;let{decorative:r,orientation:d=n,...i}=e,c=(s=d,o.includes(s))?d:n;return(0,l.jsx)(a.sG.div,{"data-orientation":c,...r?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...i,ref:t})});d.displayName="Separator";var i=d},7600:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>i});var r=s(5155),a=s(2115),l=s(3004),n=s(6104),o=s(8856);let d=a.createContext(void 0);function i(e){let{children:t}=e,[s,i]=a.useState(null),[c,u]=a.useState(!0);return(a.useEffect(()=>{let e=(0,l.hg)(n.j2,e=>{i(e),u(!1)},e=>{console.error("Auth state change error:",e),u(!1)});return()=>e()},[]),c)?(0,r.jsx)("div",{className:"flex h-screen w-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"w-1/2 space-y-4",children:[(0,r.jsx)(o.E,{className:"h-12 w-full"}),(0,r.jsx)(o.E,{className:"h-32 w-full"}),(0,r.jsx)(o.E,{className:"h-32 w-full"})]})}):(0,r.jsx)(d.Provider,{value:{user:s,loading:c},children:t})}function c(){let e=a.useContext(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8856:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var r=s(5155),a=s(9434);function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...s})}},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(2596),a=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,416,524,114,874,13,441,684,358],()=>t(3872)),_N_E=e.O()}]);