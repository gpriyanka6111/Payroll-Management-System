(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[536],{285:(e,s,t)=>{"use strict";t.d(s,{$:()=>c,r:()=>n});var r=t(5155),a=t(2115),l=t(9708),d=t(2085),i=t(9434);let n=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,size:d,asChild:c=!1,...o}=e,u=c?l.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(n({variant:a,size:d,className:t})),ref:s,...o})});c.displayName="Button"},286:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},831:(e,s,t)=>{"use strict";t.d(s,{f:()=>l});var r=t(5476),a=t(2084);function l(e,s){let t=(0,r.a)(e);return isNaN(s)?(0,a.w)(e,NaN):(s&&t.setDate(t.getDate()+s),t)}},3422:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(157).A)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},3627:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(5155),a=t(2115),l=t(6695),d=t(285),i=t(286);let n=(0,t(157).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var c=t(3422),o=t(3896),u=t(5943),h=t(6874),m=t.n(h),x=t(831),y=t(3013),f=t(7600),p=t(5317),j=t(6104),v=t(8856);function N(){let{user:e}=(0,f.A)(),[s,t]=a.useState(0),[h,N]=a.useState([]),[b,g]=a.useState(null),[w,k]=a.useState(null),[A,C]=a.useState(!0),[E,M]=a.useState(!0),[P,D]=a.useState(!0);a.useEffect(()=>{if(e){let s=(0,p.rJ)(j.db,"users",e.uid,"employees"),r=(0,p.P)(s),a=(0,p.aQ)(r,e=>{t(e.size),C(!1)}),l=(0,p.rJ)(j.db,"users",e.uid,"payrolls"),d=(0,p.P)(l,(0,p.My)("toDate","desc"),(0,p.AB)(5)),i=(0,p.aQ)(d,e=>{N(e.docs.map(e=>({id:e.id,...e.data()}))),M(!1)},()=>M(!1)),n=(0,p.H9)(j.db,"users",e.uid),c=(0,p.aQ)(n,e=>{e.exists()&&g(e.data()),D(!1)},()=>D(!1));return()=>{a(),i(),c()}}},[e]),a.useEffect(()=>{if(!E&&!P)if(h.length>0&&b){let e,[s,t,r]=h[0].toDate.split("-").map(Number),a=new Date(s,t-1,r);switch(b.payFrequency){case"bi-weekly":default:e=(0,x.f)(a,14);break;case"weekly":e=(0,x.f)(a,7);break;case"monthly":e=(0,x.f)(a,30)}k((0,y.GP)(e,"MMMM d, yyyy"))}else k(null)},[h,b,E,P]);let R=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),S=e=>{let[s,t,r]=e.split("-").map(Number),a=new Date(s,t-1,r);return(0,y.GP)(a,"LLL d, yyyy")},z=E||P;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Welcome back! Here's a quick overview of your payroll status."}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Total Employees"}),(0,r.jsx)(i.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[A?(0,r.jsx)("div",{className:"text-2xl font-bold",children:"-"}):(0,r.jsx)("div",{className:"text-2xl font-bold",children:s}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Live data from your database."}),(0,r.jsx)(d.$,{variant:"link",size:"sm",className:"p-0 h-auto mt-2",asChild:!0,children:(0,r.jsxs)(m(),{href:"/dashboard/employees",children:["View Employees ",(0,r.jsx)(n,{className:"ml-1 h-3 w-3"})]})})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Next Payroll Run"}),(0,r.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[z?(0,r.jsx)(v.E,{className:"h-8 w-40"}):w?(0,r.jsx)("div",{className:"text-2xl font-bold",children:w}):(0,r.jsx)("div",{className:"text-lg font-semibold text-muted-foreground pt-1",children:"Run first payroll"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:(null==b?void 0:b.payFrequency)?"".concat(b.payFrequency.charAt(0).toUpperCase()+b.payFrequency.slice(1)," schedule"):"Schedule not set"}),(0,r.jsx)(d.$,{variant:"link",size:"sm",className:"p-0 h-auto mt-2",asChild:!0,children:(0,r.jsxs)(m(),{href:"/dashboard/payroll/run",children:["Run Payroll ",(0,r.jsx)(n,{className:"ml-1 h-3 w-3"})]})})]})]}),(0,r.jsxs)(l.Zp,{className:"md:col-span-2 lg:col-span-1",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Quick Actions"}),(0,r.jsx)(l.BT,{children:"Get started quickly with common tasks."})]}),(0,r.jsxs)(l.Wu,{className:"flex flex-col space-y-2",children:[(0,r.jsx)(d.$,{variant:"outline",asChild:!0,children:(0,r.jsxs)(m(),{href:"/dashboard/employees/add",children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"})," Add New Employee"]})}),(0,r.jsx)(d.$,{variant:"default",asChild:!0,children:(0,r.jsxs)(m(),{href:"/dashboard/payroll/run",children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"})," Run New Payroll"]})})]})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Payroll History"}),(0,r.jsx)(l.BT,{children:"A summary of your most recent payroll runs."})]}),(0,r.jsx)(l.Wu,{children:E?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(v.E,{className:"h-16 w-full"}),(0,r.jsx)(v.E,{className:"h-16 w-full"})]}):h.length>0?(0,r.jsx)("ul",{className:"space-y-3",children:h.map(e=>(0,r.jsxs)("li",{className:"flex justify-between items-center p-3 border rounded-md hover:bg-muted/50 transition-colors",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium",children:["Payroll for ",S(e.fromDate)," - ",S(e.toDate)]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Status: ",e.status]})]}),(0,r.jsxs)("div",{className:"text-right flex items-center space-x-2",children:[(0,r.jsx)("p",{className:"font-semibold",children:R(e.totalAmount)}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,r.jsx)(m(),{href:"/dashboard/payroll/run?id=".concat(e.id),"aria-label":"Edit Payroll",children:(0,r.jsx)(u.A,{className:"h-4 w-4"})})}),(0,r.jsx)(d.$,{variant:"link",size:"sm",className:"p-0 h-auto text-xs",asChild:!0,children:(0,r.jsx)(m(),{href:"/dashboard/payroll/report?id=".concat(e.id),children:"View Details"})})]})]})]},e.id))}):(0,r.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No payroll history to display."})})]})]})}},3896:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(157).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},5943:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(157).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},6104:(e,s,t)=>{"use strict";let r,a,l;t.d(s,{db:()=>l,j2:()=>a});var d=t(3915),i=t(3004),n=t(5317);try{r=(0,d.Dk)().length?(0,d.Sx)():(0,d.Wp)({apiKey:"AIzaSyAkP18VtzDihlYGJYJoNsH48v83yHobkds",authDomain:"payroll-3582c.firebaseapp.com",projectId:"payroll-3582c",storageBucket:"payroll-3582c.firebasestorage.app",messagingSenderId:"595764753966",appId:"1:595764753966:web:33c2371bf504e8985e91bf",measurementId:"G-9TSQDML6N1"}),a=(0,i.xI)(r),l=(0,n.aU)(r)}catch(e){throw console.error("Firebase initialization error",e),Error("Failed to initialize Firebase. Please check your .env.local file and restart the server.")}},6695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>n,Zp:()=>d,aR:()=>i,wL:()=>u});var r=t(5155),a=t(2115),l=t(9434);let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});d.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});n.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},7600:(e,s,t)=>{"use strict";t.d(s,{A:()=>o,AuthProvider:()=>c});var r=t(5155),a=t(2115),l=t(3004),d=t(6104),i=t(8856);let n=a.createContext(void 0);function c(e){let{children:s}=e,[t,c]=a.useState(null),[o,u]=a.useState(!0);return(a.useEffect(()=>{let e=(0,l.hg)(d.j2,e=>{c(e),u(!1)},e=>{console.error("Auth state change error:",e),u(!1)});return()=>e()},[]),o)?(0,r.jsx)("div",{className:"flex h-screen w-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"w-1/2 space-y-4",children:[(0,r.jsx)(i.E,{className:"h-12 w-full"}),(0,r.jsx)(i.E,{className:"h-32 w-full"}),(0,r.jsx)(i.E,{className:"h-32 w-full"})]})}):(0,r.jsx)(n.Provider,{value:{user:t,loading:o},children:s})}function o(){let e=a.useContext(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8856:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var r=t(5155),a=t(9434);function l(e){let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",s),...t})}},9434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var r=t(2596),a=t(9688);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},9833:(e,s,t)=>{Promise.resolve().then(t.bind(t,3627))}},e=>{var s=s=>e(e.s=s);e.O(0,[992,416,114,874,13,441,684,358],()=>s(9833)),_N_E=e.O()}]);