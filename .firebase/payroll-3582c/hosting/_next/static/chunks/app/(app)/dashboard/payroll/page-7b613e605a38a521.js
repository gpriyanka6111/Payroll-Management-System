(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[918],{10:(e,t,a)=>{"use strict";a.d(t,{$v:()=>h,EO:()=>u,Lt:()=>o,Rx:()=>x,Zr:()=>y,ck:()=>m,r7:()=>p,wd:()=>f});var r=a(5155),s=a(2115),l=a(7649),n=a(9434),i=a(285);let o=l.bL;l.l9;let d=l.ZL,c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});c.displayName=l.hJ.displayName;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});u.displayName=l.UC.displayName;let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};f.displayName="AlertDialogHeader";let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};m.displayName="AlertDialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold",a),...s})});p.displayName=l.hE.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=l.VY.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.rc,{ref:t,className:(0,n.cn)((0,i.r)(),a),...s})});x.displayName=l.rc.displayName;let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.ZD,{ref:t,className:(0,n.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});y.displayName=l.ZD.displayName},285:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>o});var r=a(5155),s=a(2115),l=a(9708),n=a(2085),i=a(9434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:d=!1,...c}=e,u=d?l.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:s,size:n,className:a})),ref:t,...c})});d.displayName="Button"},2543:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3638:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},3781:(e,t,a)=>{Promise.resolve().then(a.bind(a,5490))},5490:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var r=a(5155),s=a(2115),l=a(9328),n=a(6874),i=a.n(n),o=a(285),d=a(6695),c=a(2543);let u=(0,a(157).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);var f=a(3638),m=a(5943),p=a(7223),h=a(7600),x=a(5317),y=a(6104),v=a(8856),g=a(7481),j=a(10);function N(){let{user:e}=(0,h.A)(),{toast:t}=(0,g.dj)(),[a,n]=s.useState([]),[N,b]=s.useState(!0),[w,A]=s.useState(null);s.useEffect(()=>{if(!e)return;let t=(0,x.rJ)(y.db,"users",e.uid,"payrolls"),a=(0,x.P)(t,(0,x.My)("toDate","desc")),r=(0,x.aQ)(a,e=>{n(e.docs.map(e=>({id:e.id,...e.data()}))),b(!1)},()=>b(!1));return()=>r()},[e]);let D=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),k=e=>{let[t,a,r]=e.split("-").map(Number),s=new Date(t,a-1,r);return(0,l.GP)(s,"MMMM d, yyyy")},E=async()=>{if(e&&w)try{let a=(0,x.H9)(y.db,"users",e.uid,"payrolls",w.id);await (0,x.kd)(a),t({title:"Payroll Deleted",description:"The payroll for ".concat(k(w.fromDate)," - ").concat(k(w.toDate)," has been deleted."),variant:"destructive"})}catch(e){console.error("Error deleting payroll: ",e),t({title:"Delete Failed",description:"Could not delete the payroll record.",variant:"destructive"})}finally{A(null)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(o.$,{variant:"outline",asChild:!0,className:"w-fit",children:(0,r.jsxs)(i(),{href:"/dashboard/manager",children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"})," Back to Manager Dashboard"]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Payroll"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Run new payroll or review past history."})]}),(0,r.jsx)(o.$,{asChild:!0,variant:"default",className:"bg-accent text-accent-foreground hover:bg-accent/90",children:(0,r.jsxs)(i(),{href:"/dashboard/payroll/run",children:[(0,r.jsx)(u,{className:"mr-2 h-4 w-4"})," Run New Payroll"]})})]}),(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsxs)(d.ZB,{className:"flex items-center",children:[(0,r.jsx)(f.A,{className:"mr-2 h-5 w-5 text-muted-foreground"})," Payroll History"]}),(0,r.jsx)(d.BT,{children:"Review past payroll runs."})]}),(0,r.jsx)(d.Wu,{children:N?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(v.E,{className:"h-16 w-full"}),(0,r.jsx)(v.E,{className:"h-16 w-full"}),(0,r.jsx)(v.E,{className:"h-16 w-full"})]}):a.length>0?(0,r.jsx)("ul",{className:"space-y-3",children:a.map(e=>(0,r.jsxs)("li",{className:"flex justify-between items-center p-3 border rounded-md hover:bg-muted/50 transition-colors",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium",children:["Payroll Run: ",k(e.fromDate)," - ",k(e.toDate)]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Status: ",e.status]})]}),(0,r.jsxs)("div",{className:"text-right flex items-center space-x-2",children:[(0,r.jsx)("p",{className:"font-semibold",children:D(e.totalAmount)}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,r.jsx)(i(),{href:"/dashboard/payroll/run?id=".concat(e.id),"aria-label":"Edit Payroll",children:(0,r.jsx)(m.A,{className:"h-4 w-4"})})}),(0,r.jsx)(o.$,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>A(e),"aria-label":"Delete Payroll",children:(0,r.jsx)(p.A,{className:"h-4 w-4"})}),(0,r.jsx)(o.$,{variant:"link",size:"sm",className:"p-0 h-auto text-xs",asChild:!0,children:(0,r.jsx)(i(),{href:"/dashboard/payroll/report?id=".concat(e.id),children:"View Details"})})]})]})]},e.id))}):(0,r.jsx)("p",{className:"text-center text-muted-foreground py-10",children:"No past payroll runs found."})})]}),(0,r.jsx)(j.Lt,{open:!!w,onOpenChange:e=>!e&&A(null),children:(0,r.jsxs)(j.EO,{children:[(0,r.jsxs)(j.wd,{children:[(0,r.jsx)(j.r7,{children:"Are you absolutely sure?"}),(0,r.jsxs)(j.$v,{children:["This action cannot be undone. This will permanently delete the payroll record for the period"," ",(0,r.jsx)("span",{className:"font-semibold",children:w?"".concat(k(w.fromDate)," - ").concat(k(w.toDate)):""}),".",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Employee PTO balances will ",(0,r.jsx)("span",{className:"font-semibold text-destructive",children:"not"})," be changed."]})]}),(0,r.jsxs)(j.ck,{children:[(0,r.jsx)(j.Zr,{children:"Cancel"}),(0,r.jsx)(j.Rx,{onClick:E,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, delete payroll"})]})]})})]})}},5943:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},6104:(e,t,a)=>{"use strict";let r,s,l;a.d(t,{db:()=>l,j2:()=>s});var n=a(3915),i=a(3004),o=a(5317);try{r=(0,n.Dk)().length?(0,n.Sx)():(0,n.Wp)({apiKey:"AIzaSyAkP18VtzDihlYGJYJoNsH48v83yHobkds",authDomain:"payroll-3582c.firebaseapp.com",projectId:"payroll-3582c",storageBucket:"payroll-3582c.firebasestorage.app",messagingSenderId:"595764753966",appId:"1:595764753966:web:33c2371bf504e8985e91bf",measurementId:"G-9TSQDML6N1"}),s=(0,i.xI)(r),l=(0,o.aU)(r)}catch(e){throw console.error("Firebase initialization error",e),Error("Failed to initialize Firebase. Please check your .env.local file and restart the server.")}},6695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>u});var r=a(5155),s=a(2115),l=a(9434);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},7223:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>f});var r=a(2115);let s=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7600:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,AuthProvider:()=>d});var r=a(5155),s=a(2115),l=a(3004),n=a(6104),i=a(8856);let o=s.createContext(void 0);function d(e){let{children:t}=e,[a,d]=s.useState(null),[c,u]=s.useState(!0);return(s.useEffect(()=>{let e=(0,l.hg)(n.j2,e=>{d(e),u(!1)},e=>{console.error("Auth state change error:",e),u(!1)});return()=>e()},[]),c)?(0,r.jsx)("div",{className:"flex h-screen w-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"w-1/2 space-y-4",children:[(0,r.jsx)(i.E,{className:"h-12 w-full"}),(0,r.jsx)(i.E,{className:"h-32 w-full"}),(0,r.jsx)(i.E,{className:"h-32 w-full"})]})}):(0,r.jsx)(o.Provider,{value:{user:a,loading:c},children:t})}function c(){let e=s.useContext(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7649:(e,t,a)=>{"use strict";a.d(t,{UC:()=>M,VY:()=>L,ZD:()=>_,ZL:()=>O,bL:()=>T,hE:()=>z,hJ:()=>P,l9:()=>C,rc:()=>I});var r=a(2115),s=a(6081),l=a(6101),n=a(5452),i=a(5185),o=a(9708),d=a(5155),c="AlertDialog",[u,f]=(0,s.A)(c,[n.Hs]),m=(0,n.Hs)(),p=e=>{let{__scopeAlertDialog:t,...a}=e,r=m(t);return(0,d.jsx)(n.bL,{...r,...a,modal:!0})};p.displayName=c;var h=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.l9,{...s,...r,ref:t})});h.displayName="AlertDialogTrigger";var x=e=>{let{__scopeAlertDialog:t,...a}=e,r=m(t);return(0,d.jsx)(n.ZL,{...r,...a})};x.displayName="AlertDialogPortal";var y=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.hJ,{...s,...r,ref:t})});y.displayName="AlertDialogOverlay";var v="AlertDialogContent",[g,j]=u(v),N=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:s,...c}=e,u=m(a),f=r.useRef(null),p=(0,l.s)(t,f),h=r.useRef(null);return(0,d.jsx)(n.G$,{contentName:v,titleName:b,docsSlug:"alert-dialog",children:(0,d.jsx)(g,{scope:a,cancelRef:h,children:(0,d.jsxs)(n.UC,{role:"alertdialog",...u,...c,ref:p,onOpenAutoFocus:(0,i.m)(c.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=h.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(o.xV,{children:s}),(0,d.jsx)(R,{contentRef:f})]})})})});N.displayName=v;var b="AlertDialogTitle",w=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.hE,{...s,...r,ref:t})});w.displayName=b;var A="AlertDialogDescription",D=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.VY,{...s,...r,ref:t})});D.displayName=A;var k=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.bm,{...s,...r,ref:t})});k.displayName="AlertDialogAction";var E="AlertDialogCancel",S=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,{cancelRef:s}=j(E,a),i=m(a),o=(0,l.s)(t,s);return(0,d.jsx)(n.bm,{...i,...r,ref:o})});S.displayName=E;var R=e=>{let{contentRef:t}=e,a="`".concat(v,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(v,"` by passing a `").concat(A,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(v,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return r.useEffect(()=>{var e;document.getElementById(null==(e=t.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},T=p,C=h,O=x,P=y,M=N,I=k,_=S,z=w,L=D},8856:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(5155),s=a(9434);function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",t),...a})}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(2596),s=a(9688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,416,668,873,874,263,328,452,441,684,358],()=>t(3781)),_N_E=e.O()}]);