(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1818],{5845:(e,t,r)=>{"use strict";r.d(t,{i:()=>l});var s=r(12115),a=r(39033);function l({prop:e,defaultProp:t,onChange:r=()=>{}}){let[l,n]=function({defaultProp:e,onChange:t}){let r=s.useState(e),[l]=r,n=s.useRef(l),o=(0,a.c)(t);return s.useEffect(()=>{n.current!==l&&(o(l),n.current=l)},[l,n,o]),r}({defaultProp:t,onChange:r}),o=void 0!==e,c=o?e:l,d=(0,a.c)(r);return[c,s.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&d(r)}else n(t)},[o,e,n,d])]}},10549:(e,t,r)=>{"use strict";r.d(t,{$m:()=>i,As:()=>d,nD:()=>c,ub:()=>u});var s=r(95155),a=r(12115),l=r(23478),n=r(79556),o=r(59434);let c=l.bL,d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.q7,{ref:t,className:(0,o.cn)("border-b",r),...a})});d.displayName="AccordionItem";let i=a.forwardRef((e,t)=>{let{className:r,children:a,...c}=e;return(0,s.jsx)(l.Y9,{className:"flex",children:(0,s.jsxs)(l.l9,{ref:t,className:(0,o.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",r),...c,children:[a,(0,s.jsx)(n.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});i.displayName=l.l9.displayName;let u=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsx)(l.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:(0,s.jsx)("div",{className:(0,o.cn)("pb-4 pt-0",r),children:a})})});u.displayName=l.UC.displayName},16161:(e,t,r)=>{Promise.resolve().then(r.bind(r,64716))},27600:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,AuthProvider:()=>d});var s=r(95155),a=r(12115),l=r(93004),n=r(56104),o=r(68856);let c=a.createContext(void 0);function d(e){let{children:t}=e,[r,d]=a.useState(null),[i,u]=a.useState(!0);return(a.useEffect(()=>{let e=(0,l.hg)(n.j2,e=>{d(e),u(!1)},e=>{console.error("Auth state change error:",e),u(!1)});return()=>e()},[]),i)?(0,s.jsx)("div",{className:"flex h-screen w-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"w-1/2 space-y-4",children:[(0,s.jsx)(o.E,{className:"h-12 w-full"}),(0,s.jsx)(o.E,{className:"h-32 w-full"}),(0,s.jsx)(o.E,{className:"h-32 w-full"})]})}):(0,s.jsx)(c.Provider,{value:{user:r,loading:i},children:t})}function i(){let e=a.useContext(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},39033:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var s=r(12115);function a(e){let t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>t.current?.(...e),[])}},46081:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,q:()=>l});var s=r(12115),a=r(95155);function l(e,t){let r=s.createContext(t),l=e=>{let{children:t,...l}=e,n=s.useMemo(()=>l,Object.values(l));return(0,a.jsx)(r.Provider,{value:n,children:t})};return l.displayName=e+"Provider",[l,function(a){let l=s.useContext(r);if(l)return l;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function n(e,t=[]){let r=[],l=()=>{let t=r.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return l.scopeName=e,[function(t,l){let n=s.createContext(l),o=r.length;r=[...r,l];let c=t=>{let{scope:r,children:l,...c}=t,d=r?.[e]?.[o]||n,i=s.useMemo(()=>c,Object.values(c));return(0,a.jsx)(d.Provider,{value:i,children:l})};return c.displayName=t+"Provider",[c,function(r,a){let c=a?.[e]?.[o]||n,d=s.useContext(c);if(d)return d;if(void 0!==l)return l;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(l,...t)]}},52712:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(12115),a=globalThis?.document?s.useLayoutEffect:()=>{}},56104:(e,t,r)=>{"use strict";let s,a,l;r.d(t,{db:()=>l,j2:()=>a});var n=r(23915),o=r(93004),c=r(35317);try{s=(0,n.Dk)().length?(0,n.Sx)():(0,n.Wp)({apiKey:"AIzaSyAkP18VtzDihlYGJYJoNsH48v83yHobkds",authDomain:"payroll-3582c.firebaseapp.com",projectId:"payroll-3582c",storageBucket:"payroll-3582c.firebasestorage.app",messagingSenderId:"595764753966",appId:"1:595764753966:web:33c2371bf504e8985e91bf",measurementId:"G-9TSQDML6N1"}),a=(0,o.xI)(s),l=(0,c.aU)(s)}catch(e){throw console.error("Firebase initialization error",e),Error("Failed to initialize Firebase. Please check your .env.local file and restart the server.")}},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var s=r(52596),a=r(39688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},61285:(e,t,r)=>{"use strict";r.d(t,{B:()=>c});var s,a=r(12115),l=r(52712),n=(s||(s=r.t(a,2)))["useId".toString()]||(()=>void 0),o=0;function c(e){let[t,r]=a.useState(n());return(0,l.N)(()=>{e||r(e=>e??String(o++))},[e]),e||(t?`radix-${t}`:"")}},63655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>c,sG:()=>o});var s=r(12115),a=r(47650),l=r(99708),n=r(95155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...a}=e,o=s?l.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function c(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},64716:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(95155),a=r(12115),l=r(66695),n=r(85127),o=r(88390),c=r(1407),d=r(41784),i=r(27600),u=r(35317),m=r(56104),f=r(68856),h=r(10549);function x(){let{user:e}=(0,i.A)(),[t,r]=a.useState([]),[x,p]=a.useState(!0),[y,j]=a.useState({from:"",to:""});a.useEffect(()=>{let e=new Date,t=(0,c.D)(e);j({from:(0,d.GP)(t,"MMMM d, yyyy"),to:(0,d.GP)(e,"MMMM d, yyyy")})},[]),a.useEffect(()=>{e&&(async()=>{p(!0);let t=(0,u.rJ)(m.db,"users",e.uid,"employees"),s=(0,u.P)(t,(0,u.My)("firstName","asc")),a=(await (0,u.GG)(s)).docs.map(e=>({id:e.id,...e.data()})),l=(0,c.D)(new Date),n=(0,u.rJ)(m.db,"users",e.uid,"payrolls"),o=(0,u.P)(n,(0,u._M)("toDate",">=",(0,d.GP)(l,"yyyy-MM-dd")),(0,u.My)("toDate","asc")),i=(await (0,u.GG)(o)).docs.map(e=>e.data()),f={};a.forEach(e=>{f[e.id]={employeeId:e.id,employeeName:"".concat(e.firstName),totalGrossPay:0,totalGrossCheckAmount:0,totalGrossOtherAmount:0,payPeriods:[]}}),i.forEach(e=>{e.results.forEach(t=>{if(f[t.employeeId]){let r=t.grossCheckAmount||0,s=t.grossOtherAmount||0,a=r+s;f[t.employeeId].totalGrossPay+=a,f[t.employeeId].totalGrossCheckAmount+=r,f[t.employeeId].totalGrossOtherAmount+=s;let[l,n,o]=e.fromDate.split("-").map(Number),[c,i,u]=e.toDate.split("-").map(Number),m=new Date(l,n-1,o),h=new Date(c,i-1,u);f[t.employeeId].payPeriods.push({period:"".concat((0,d.GP)(m,"MM/dd/yy")," - ").concat((0,d.GP)(h,"MM/dd/yy")),grossPay:a,grossCheckAmount:r,grossOtherAmount:s})}})}),r(Object.values(f)),p(!1)})().catch(console.error)},[e]);let N=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),b=a.useMemo(()=>t.reduce((e,t)=>e+t.totalGrossPay,0),[t]),v=a.useMemo(()=>t.reduce((e,t)=>e+t.totalGrossCheckAmount,0),[t]),g=a.useMemo(()=>t.reduce((e,t)=>e+t.totalGrossOtherAmount,0),[t]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Year-to-Date Summary"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Review total gross pay for all employees for the current calendar year."})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsxs)(l.ZB,{className:"flex items-center",children:[(0,s.jsx)(o.A,{className:"mr-2 h-5 w-5 text-muted-foreground"}),"YTD Earnings Summary"]}),(0,s.jsxs)(l.BT,{children:["Summary of total gross pay from finalized payrolls from ",(0,s.jsx)("span",{className:"font-semibold",children:y.from})," to ",(0,s.jsx)("span",{className:"font-semibold",children:y.to}),"."]})]}),(0,s.jsx)(l.Wu,{children:x?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.E,{className:"h-10 w-full"}),(0,s.jsx)(f.E,{className:"h-10 w-full"}),(0,s.jsx)(f.E,{className:"h-10 w-full"})]}):t.length>0?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(n.XI,{children:[(0,s.jsx)(n.A0,{children:(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nd,{children:"Employee"}),(0,s.jsx)(n.nd,{className:"text-right",children:"Gross Check Amount"}),(0,s.jsx)(n.nd,{className:"text-right",children:"Gross Other Amount"}),(0,s.jsx)(n.nd,{className:"text-right font-bold",children:"Total Gross Pay"})]})}),(0,s.jsx)(n.BF,{children:t.map(e=>(0,s.jsx)(h.nD,{type:"single",collapsible:!0,className:"w-full",asChild:!0,children:(0,s.jsx)(n.Hj,{children:(0,s.jsx)(n.nA,{colSpan:4,className:"p-0",children:(0,s.jsxs)(h.As,{value:e.employeeId,className:"border-b-0",children:[(0,s.jsx)(h.$m,{className:"hover:no-underline px-4 py-2",children:(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsx)("span",{className:"font-medium",children:e.employeeName}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-x-4 w-3/4 text-right tabular-nums",children:[(0,s.jsx)("span",{children:N(e.totalGrossCheckAmount)}),(0,s.jsx)("span",{children:N(e.totalGrossOtherAmount)}),(0,s.jsx)("span",{className:"font-bold",children:N(e.totalGrossPay)})]})]})}),(0,s.jsx)(h.ub,{children:(0,s.jsx)("div",{className:"bg-muted/50 p-4",children:(0,s.jsxs)(n.XI,{children:[(0,s.jsx)(n.A0,{children:(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nd,{children:"Pay Period"}),(0,s.jsx)(n.nd,{className:"text-right",children:"Gross Check"}),(0,s.jsx)(n.nd,{className:"text-right",children:"Gross Other"}),(0,s.jsx)(n.nd,{className:"text-right",children:"Gross Pay"})]})}),(0,s.jsx)(n.BF,{children:e.payPeriods.map((e,t)=>(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nA,{children:e.period}),(0,s.jsx)(n.nA,{className:"text-right tabular-nums",children:N(e.grossCheckAmount)}),(0,s.jsx)(n.nA,{className:"text-right tabular-nums",children:N(e.grossOtherAmount)}),(0,s.jsx)(n.nA,{className:"text-right tabular-nums",children:N(e.grossPay)})]},t))})]})})})]})})})},e.employeeId))}),(0,s.jsx)(n.Gg,{children:(0,s.jsxs)(n.Hj,{className:"bg-muted/50 hover:bg-muted/50",children:[(0,s.jsx)(n.nA,{className:"font-bold text-lg",children:"Total"}),(0,s.jsx)(n.nA,{className:"text-right font-bold text-lg tabular-nums",children:N(v)}),(0,s.jsx)(n.nA,{className:"text-right font-bold text-lg tabular-nums",children:N(g)}),(0,s.jsx)(n.nA,{className:"text-right font-bold text-lg tabular-nums",children:N(b)})]})})]})}):(0,s.jsx)("div",{className:"h-24 text-center flex items-center justify-center text-muted-foreground",children:"No earnings data found for this year."})})]})]})}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>i,ZB:()=>c,Zp:()=>n,aR:()=>o,wL:()=>u});var s=r(95155),a=r(12115),l=r(59434);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...a})});i.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},68856:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var s=r(95155),a=r(59434);function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...r})}},79556:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},82284:(e,t,r)=>{"use strict";r.d(t,{N:()=>c});var s=r(12115),a=r(46081),l=r(6101),n=r(99708),o=r(95155);function c(e){let t=e+"CollectionProvider",[r,c]=(0,a.A)(t),[d,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:t,children:r}=e,a=s.useRef(null),l=s.useRef(new Map).current;return(0,o.jsx)(d,{scope:t,itemMap:l,collectionRef:a,children:r})};u.displayName=t;let m=e+"CollectionSlot",f=s.forwardRef((e,t)=>{let{scope:r,children:s}=e,a=i(m,r),c=(0,l.s)(t,a.collectionRef);return(0,o.jsx)(n.DX,{ref:c,children:s})});f.displayName=m;let h=e+"CollectionItemSlot",x="data-radix-collection-item",p=s.forwardRef((e,t)=>{let{scope:r,children:a,...c}=e,d=s.useRef(null),u=(0,l.s)(t,d),m=i(h,r);return s.useEffect(()=>(m.itemMap.set(d,{ref:d,...c}),()=>void m.itemMap.delete(d))),(0,o.jsx)(n.DX,{...{[x]:""},ref:u,children:a})});return p.displayName=h,[{Provider:u,Slot:f,ItemSlot:p},function(t){let r=i(e+"CollectionConsumer",t);return s.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(x,"]")));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},c]}},85127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>o,BF:()=>c,Gg:()=>d,Hj:()=>i,XI:()=>n,nA:()=>m,nd:()=>u,r6:()=>f});var s=r(95155),a=r(12115),l=r(59434);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...a})})});n.displayName="Table";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",r),...a})});o.displayName="TableHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...a})});c.displayName="TableBody";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})});d.displayName="TableFooter";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});i.displayName="TableRow";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableHead";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});m.displayName="TableCell";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...a})});f.displayName="TableCaption"},85185:(e,t,r)=>{"use strict";function s(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),!1===r||!s.defaultPrevented)return t?.(s)}}r.d(t,{m:()=>s})},94315:(e,t,r)=>{"use strict";r.d(t,{jH:()=>l});var s=r(12115);r(95155);var a=s.createContext(void 0);function l(e){let t=s.useContext(a);return e||t||"ltr"}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7416,3796,3873,1784,8593,8441,1684,7358],()=>t(16161)),_N_E=e.O()}]);