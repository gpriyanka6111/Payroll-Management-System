(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{575:(e,r,a)=>{"use strict";a.d(r,{AddEmployeeForm:()=>k});var s=a(5155),l=a(2115),n=a(221),t=a(2177),o=a(5594),i=a(285),d=a(7759),c=a(2523),h=a(7481),m=a(5731),u=a(1554),x=a(9637),p=a(3896),j=a(9409),g=a(8539),y=a(7600),b=a(5695),v=a(5317),z=a(6104);let N=o.z.object({firstName:o.z.string().min(2,{message:"First name must be at least 2 characters."}).regex(/^[a-zA-Z' -]+$/,{message:"Name can only contain letters, spaces, hyphens, and apostrophes."}),lastName:o.z.string().regex(/^[a-zA-Z' -]*$/,{message:"Name can only contain letters, spaces, hyphens, and apostrophes."}).optional(),ssn:o.z.string().regex(/^\d{3}-\d{2}-\d{4}$/,{message:"SSN must be in XXX-XX-XXXX format."}).optional().or(o.z.literal("")),email:o.z.string().email({message:"Invalid email address."}).optional().or(o.z.literal("")),mobileNumber:o.z.string().regex(/^\(\d{3}\) \d{3}-\d{4}$/,{message:"Number must be in (XXX) XXX-XXXX format."}).optional().or(o.z.literal("")),ptoBalance:o.z.coerce.number().min(0,{message:"PTO balance cannot be negative."}).default(0),comment:o.z.string().optional()}),X=N.extend({payMethod:o.z.literal("Hourly"),payRateCheck:o.z.coerce.number().min(0,{message:"Pay rate cannot be negative."}),payRateOthers:o.z.coerce.number().min(0,{message:"Pay rate cannot be negative"}).optional(),standardCheckHours:o.z.coerce.number().min(0,{message:"Standard hours cannot be negative."}),biWeeklySalary:o.z.coerce.number().optional()}),C=N.extend({payMethod:o.z.literal("Salaried"),biWeeklySalary:o.z.coerce.number().min(0,{message:"Bi-weekly salary cannot be negative."}),payRateCheck:o.z.coerce.number().optional(),payRateOthers:o.z.coerce.number().optional(),standardCheckHours:o.z.coerce.number().optional()}),f=o.z.discriminatedUnion("payMethod",[X,C]);function k(){let{toast:e}=(0,h.dj)(),{user:r}=(0,y.A)(),a=(0,b.useRouter)(),[o,N]=l.useState(!1),X=(0,t.mN)({resolver:(0,n.u)(f),defaultValues:{firstName:"",lastName:"",ssn:"",email:"",mobileNumber:"",payMethod:"Hourly",payRateCheck:0,payRateOthers:0,standardCheckHours:40,ptoBalance:0,comment:""},mode:"onChange"}),C=X.watch("payMethod");async function k(s){if(!r)return void e({title:"Not Authenticated",description:"You must be logged in to add an employee.",variant:"destructive"});N(!0);try{let l=(0,v.rJ)(z.db,"users",r.uid,"employees");await (0,v.gS)(l,s),e({title:"Employee Added",description:"".concat(s.firstName," has been added successfully."),variant:"default"}),a.push("/dashboard/employees")}catch(r){console.error("Error adding employee: ",r),e({title:"Error",description:"Failed to add employee. Please try again.",variant:"destructive"})}finally{N(!1)}}let R=(e,r)=>{let a=e.target.value.replace(/-/g,"").replace(/\D/g,""),s="";a.length>0&&(s+=a.substring(0,3)),a.length>=4&&(s+="-"+a.substring(3,5)),a.length>=6&&(s+="-"+a.substring(5,9)),r(s)},M=(e,r)=>{let a=e.target.value.replace(/\D/g,"").substring(0,10),s="";a.length>0&&(s="(".concat(a.substring(0,3))),a.length>=4&&(s+=") ".concat(a.substring(3,6))),a.length>=7&&(s+="-".concat(a.substring(6,10))),r(s)};return(0,s.jsx)(d.lV,{...X,children:(0,s.jsxs)("form",{onSubmit:X.handleSubmit(k),className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsx)(d.zB,{control:X.control,name:"firstName",render:e=>{let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"First Name *"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{placeholder:"e.g., Jane",...r,disabled:o})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:X.control,name:"lastName",render:e=>{let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Last Name"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{placeholder:"e.g., Doe",...r,disabled:o})}),(0,s.jsx)(d.C5,{})]})}})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsx)(d.zB,{control:X.control,name:"ssn",render:e=>{var r;let{field:a}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"SSN (Optional)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(c.p,{type:"text",placeholder:"XXX-XX-XXXX",...a,onChange:e=>R(e,a.onChange),maxLength:11,value:null!=(r=a.value)?r:"",className:"pl-10",disabled:o})]})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:X.control,name:"mobileNumber",render:e=>{var r;let{field:a}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Mobile Number (Optional)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(c.p,{type:"tel",placeholder:"(XXX) XXX-XXXX",...a,onChange:e=>M(e,a.onChange),maxLength:14,value:null!=(r=a.value)?r:"",className:"pl-10",disabled:o})]})}),(0,s.jsx)(d.C5,{})]})}})]}),(0,s.jsx)(d.zB,{control:X.control,name:"email",render:e=>{var r;let{field:a}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Email (Optional)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(c.p,{type:"email",placeholder:"e.g., jane.doe@example.com",...a,value:null!=(r=a.value)?r:"",className:"pl-10",disabled:o})]})}),(0,s.jsx)(d.Rr,{children:"Used for sending payslips (if feature enabled)."}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:X.control,name:"payMethod",render:e=>{let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Pay Method *"}),(0,s.jsxs)(j.l6,{onValueChange:r.onChange,defaultValue:r.value,disabled:o,children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(j.bq,{children:(0,s.jsx)(j.yv,{placeholder:"Select pay method"})})}),(0,s.jsxs)(j.gC,{children:[(0,s.jsx)(j.eb,{value:"Hourly",children:"Hourly"}),(0,s.jsx)(j.eb,{value:"Salaried",children:"Salaried"})]})]}),(0,s.jsx)(d.C5,{})]})}}),"Hourly"===C&&(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[(0,s.jsx)(d.zB,{control:X.control,name:"payRateCheck",render:e=>{let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Hourly Rate Check ($) *"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"0.01",min:"0",placeholder:"e.g., 25.50",...r,disabled:o})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:X.control,name:"payRateOthers",render:e=>{let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Hourly Rate Others ($)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"0.01",min:"0",placeholder:"e.g., 15.00",...r,disabled:o})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:X.control,name:"standardCheckHours",render:e=>{let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Standard Check Hours *"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"0.1",min:"0",placeholder:"e.g., 40",...r,disabled:o})}),(0,s.jsx)(d.C5,{})]})}})]}),"Salaried"===C&&(0,s.jsx)(d.zB,{control:X.control,name:"biWeeklySalary",render:e=>{let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Bi-weekly Salary ($) *"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"0.01",min:"0",placeholder:"e.g., 2000.00",...r,disabled:o})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:X.control,name:"ptoBalance",render:e=>{let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Initial PTO Balance (hours)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"0.1",min:"0",placeholder:"e.g., 40",...r,disabled:o})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:X.control,name:"comment",render:e=>{let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Comment"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(g.T,{placeholder:"Enter any internal comments about the employee...",className:"resize-y",...r,disabled:o})}),(0,s.jsx)(d.Rr,{children:"This comment is for internal use and will be visible during payroll runs."}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(i.$,{type:"submit",className:"w-full bg-accent text-accent-foreground hover:bg-accent/90",disabled:o,children:o?"Adding...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Add Employee"]})})]})})}},1554:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(157).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},3896:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(157).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},5695:(e,r,a)=>{"use strict";var s=a(8999);a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},5731:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(157).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},9284:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.bind(a,575))},9637:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(157).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[992,416,668,873,874,263,152,521,886,930,441,684,358],()=>r(9284)),_N_E=e.O()}]);