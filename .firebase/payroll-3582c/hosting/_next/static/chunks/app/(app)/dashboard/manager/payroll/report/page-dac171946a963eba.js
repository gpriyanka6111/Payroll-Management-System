(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5941],{22346:(e,t,s)=>{"use strict";s.d(t,{w:()=>n});var r=s(95155),a=s(12115),l=s(87489),o=s(59434);let n=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:n=!0,...d}=e;return(0,r.jsx)(l.b,{ref:t,decorative:n,orientation:a,className:(0,o.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...d})});n.displayName=l.b.displayName},27600:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>i});var r=s(95155),a=s(12115),l=s(93004),o=s(56104),n=s(68856);let d=a.createContext(void 0);function i(e){let{children:t}=e,[s,i]=a.useState(null),[c,u]=a.useState(!0);return(a.useEffect(()=>{let e=(0,l.hg)(o.j2,e=>{i(e),u(!1)},e=>{console.error("Auth state change error:",e),u(!1)});return()=>e()},[]),c)?(0,r.jsx)("div",{className:"flex h-screen w-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"w-1/2 space-y-4",children:[(0,r.jsx)(n.E,{className:"h-12 w-full"}),(0,r.jsx)(n.E,{className:"h-32 w-full"}),(0,r.jsx)(n.E,{className:"h-32 w-full"})]})}):(0,r.jsx)(d.Provider,{value:{user:s,loading:c},children:t})}function c(){let e=a.useContext(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},30241:(e,t,s)=>{"use strict";s.d(t,{Ff:()=>m,he:()=>h,lV:()=>f});var r=s(80644),a=s(20908),l=s(53941),o=s(24386),n=s(70831),d=s(13774),i=s(63482),c=s(1407),u=s(76959);function m(e){let t=(0,r.o)(e),s=(0,a.C)(t),c=[...h(s),...h(s+1)].find(e=>(0,l.d)(e.payDate,t)||e.payDate.getTime()===t.getTime());if(c)return c;let u=new Date("2025-08-24T00:00:00"),m=Math.floor((0,o.c)(t,u)/14),f=(0,n.f)(u,14*m),p=(0,n.f)(f,13),x=(0,d.G)(p);return(0,i.Y)(x,t)&&(f=(0,n.f)(f,14),p=(0,n.f)(f,13),x=(0,d.G)(p)),{start:f,end:p,payDate:x}}function h(e){let t=new Date("2025-08-24T00:00:00"),s=[],r=(0,c.D)(new Date(e,0,1)),l=Math.floor((0,o.c)(r,t)/14),i=(0,n.f)(t,14*l);for(;(0,a.C)(i)<=e;){let t=(0,n.f)(i,13),r=(0,d.G)(t);(0,a.C)(i)===e&&s.push({start:i,end:t,payDate:r}),i=(0,n.f)(i,14)}return s}function f(e){let t=h((0,a.C)(e)).find(t=>(0,u.r)(t.start,e));return t?t.payDate:null}},30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>i,r:()=>d});var r=s(95155),a=s(12115),l=s(99708),o=s(74466),n=s(59434);let d=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:s,variant:a,size:o,asChild:i=!1,...c}=e,u=i?l.DX:"button";return(0,r.jsx)(u,{className:(0,n.cn)(d({variant:a,size:o,className:s})),ref:t,...c})});i.displayName="Button"},56104:(e,t,s)=>{"use strict";let r,a,l;s.d(t,{db:()=>l,j2:()=>a});var o=s(23915),n=s(93004),d=s(35317);try{r=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)({apiKey:"AIzaSyAkP18VtzDihlYGJYJoNsH48v83yHobkds",authDomain:"payroll-3582c.firebaseapp.com",projectId:"payroll-3582c",storageBucket:"payroll-3582c.firebasestorage.app",messagingSenderId:"595764753966",appId:"1:595764753966:web:33c2371bf504e8985e91bf",measurementId:"G-9TSQDML6N1"}),a=(0,n.xI)(r),l=(0,d.aU)(r)}catch(e){throw console.error("Firebase initialization error",e),Error("Failed to initialize Firebase. Please check your .env.local file and restart the server.")}},58459:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var r=s(95155),a=s(12115),l=s(30285),o=s(22346),n=s(59434),d=s(66695),i=s(85127),c=s(41784);let u=e=>"number"!=typeof e||isNaN(e)?"$ --.--":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),m=e=>"number"!=typeof e||isNaN(e)?"--":e.toFixed(2);function h(e){let{companyName:t,payPeriod:s,result:a,input:l,ytdGrossPay:n}=e,h=a.vdHoursUsed+a.hdHoursUsed+a.sdHoursUsed,f=[{description:"Regular Pay",hours:a.checkHours,rate:a.payRateCheck,total:a.checkHours*a.payRateCheck},{description:"Leave Pay (VD/HD/SD)",hours:h,rate:a.payRateCheck,total:h*a.payRateCheck},{description:"Other Pay",hours:a.otherHours,rate:a.payRateOthers,total:a.otherHours*a.payRateOthers},{description:"Other Adjustments",hours:"-",rate:"-",total:a.otherAdjustment}].filter(e=>0!==e.total||"Other Adjustments"===e.description&&0!==e.total),p=a.grossCheckAmount+a.grossOtherAmount,x=n+p;return(0,r.jsxs)(d.Zp,{className:"payslip-card shadow-md break-inside-avoid border border-border print:shadow-none print:border-gray-300",children:[(0,r.jsx)(d.aR,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(d.ZB,{className:"text-xl text-primary",children:a.name}),(0,r.jsxs)(d.BT,{children:[t," Payslip"]})]}),(0,r.jsxs)("div",{className:"text-right text-xs",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Pay Period:"}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:[(0,c.GP)(s.from,"MM/dd/yy")," - ",(0,c.GP)(s.to,"MM/dd/yy")]}),(0,r.jsx)("p",{className:"font-semibold mt-1",children:"Pay Date:"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:(0,c.GP)(new Date,"MM/dd/yyyy")})]})]})}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Hours Summary (hrs)"}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-center border rounded-md p-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total"}),(0,r.jsx)("p",{className:"font-medium tabular-nums",children:m(a.totalHoursWorked)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Check"}),(0,r.jsx)("p",{className:"font-medium tabular-nums",children:m(a.checkHours)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Other"}),(0,r.jsx)("p",{className:"font-medium tabular-nums",children:m(a.otherHours)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leave"}),(0,r.jsx)("p",{className:"font-medium tabular-nums",children:m(h)})]})]})]}),(0,r.jsx)(o.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Earnings"}),(0,r.jsxs)(i.XI,{children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{children:"Description"}),(0,r.jsx)(i.nd,{className:"text-right",children:"Current"}),(0,r.jsx)(i.nd,{className:"text-right",children:"YTD"})]})}),(0,r.jsxs)(i.BF,{children:[f.map((e,t)=>(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nA,{children:e.description}),(0,r.jsx)(i.nA,{className:"text-right tabular-nums",children:u(e.total)}),(0,r.jsx)(i.nA,{className:"text-right tabular-nums",children:"-"})]},t)),(0,r.jsxs)(i.Hj,{className:"font-semibold",children:[(0,r.jsx)(i.nA,{children:"Gross Pay"}),(0,r.jsx)(i.nA,{className:"text-right tabular-nums",children:u(p)}),(0,r.jsx)(i.nA,{className:"text-right tabular-nums",children:u(x)})]})]})]})]}),(0,r.jsx)(o.w,{}),(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Deductions"}),(0,r.jsx)("span",{className:"font-semibold tabular-nums",children:u(0)})]})})]}),(0,r.jsx)(d.wL,{children:(0,r.jsxs)("div",{className:"flex justify-between w-full p-3 bg-muted/50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-lg font-bold",children:"Gross Pay"}),(0,r.jsx)("span",{className:"text-lg font-bold tabular-nums",children:u(p)})]})})]})}var f=s(44861),p=s(1407),x=s(83343),y=s(7860),b=s(79233),j=s(76959),g=s(12543),N=s(75943),v=s(60679),w=s(50286),H=s(35695),E=s(68856),O=s(27600),R=s(35317),A=s(56104),S=s(6874),k=s.n(S),P=s(55035),C=s(30241);let D=e=>{let t=Number(e);return isNaN(t)?"$ --.--":new Intl.NumberFormat("en-IN",{style:"currency",currency:"USD"}).format(t).replace("â‚¹","$ ")},T=e=>{let t=Number(e);return isNaN(t)?"--":t.toFixed(2)};function I(){let e=(0,H.useRouter)(),t=(0,H.useSearchParams)(),{user:s}=(0,O.A)(),d=t.get("id"),[u,m]=a.useState([]),[S,I]=a.useState([]),[M,G]=a.useState(null),[B,U]=a.useState(!0),[_,F]=a.useState("My Small Business"),[L,V]=a.useState({}),[$,z]=a.useState({});if(a.useEffect(()=>{let t=async()=>{let t,r,a;if(U(!0),!s)return void U(!1);if(d)try{let e=(0,R.H9)(A.db,"users",s.uid),l=await (0,R.x7)(e);l.exists()&&F(l.data().companyName||"My Small Business");let o=(0,R.H9)(A.db,"users",s.uid,"payrolls",d),n=await (0,R.x7)(o);if(n.exists()){let[e,s,l]=(t=n.data()).fromDate.split("-").map(Number),[o,d,i]=t.toDate.split("-").map(Number);r=new Date(e,s-1,l),a=new Date(o,d-1,i),m(t.results),I(t.inputs),G({from:r,to:a}),V({employer:t.summaryEmployer,employee:t.summaryEmployee,deductions:t.summaryDeductions,netPay:t.summaryNetPay})}else throw Error("Payroll document not found.")}catch(t){console.error("Error fetching payroll data:",t),e.replace("/dashboard/manager/payroll");return}else{let s=sessionStorage.getItem("payrollResultsData"),l=sessionStorage.getItem("payrollPeriodData"),o=sessionStorage.getItem("payrollInputData"),n=sessionStorage.getItem("companyName"),d=sessionStorage.getItem("payrollSummaryData");if(!s||!l||!o)return void e.replace("/dashboard/manager/payroll/run");{let i=JSON.parse(l);if(r=new Date(i.from),a=new Date(i.to),!(0,f.f)(r)||!(0,f.f)(a))return void e.replace("/dashboard/manager/payroll/run");m((t={results:JSON.parse(s),inputs:JSON.parse(o),fromDate:(0,c.GP)(r,"yyyy-MM-dd")}).results),I(t.inputs),G({from:r,to:a}),d&&V(JSON.parse(d)),n&&F(n),sessionStorage.removeItem("payrollResultsData"),sessionStorage.removeItem("payrollPeriodData"),sessionStorage.removeItem("payrollInputData"),sessionStorage.removeItem("companyName"),sessionStorage.removeItem("payrollSummaryData")}}let l=(0,p.D)(r),o=(0,R.rJ)(A.db,"users",s.uid,"payrolls"),n=(0,R.P)(o,(0,R._M)("toDate",">=",(0,c.GP)(l,"yyyy-MM-dd")),(0,R._M)("toDate","<",t.fromDate),(0,R.My)("toDate","asc")),i=await (0,R.GG)(n),u={};t.results.forEach(e=>{u[e.employeeId]={grossPay:0}}),i.forEach(e=>{e.data().results.forEach(e=>{if(u[e.employeeId]){let t=e.grossCheckAmount+e.grossOtherAmount;u[e.employeeId].grossPay+=t}})}),z(u),U(!1)};s&&t()},[e,d,s]),B)return(0,r.jsxs)("div",{className:"space-y-4 p-6",children:[(0,r.jsx)(E.E,{className:"h-10 w-1/4"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(E.E,{className:"h-48 w-full"}),(0,r.jsx)(E.E,{className:"h-64 w-full"}),(0,r.jsx)(E.E,{className:"h-32 w-full"})]})]});if(!M||0===u.length||0===S.length)return(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)("p",{children:"No payroll data found or you do not have permission to view it."}),(0,r.jsx)(l.$,{onClick:()=>e.push("/dashboard/manager/payroll/run"),children:"Start a new payroll run"})]});let K={totalGrossPay:u.reduce((e,t)=>e+t.grossCheckAmount+t.grossOtherAmount,0),totalNetPay:u.reduce((e,t)=>e+t.grossCheckAmount,0),totalOtherPay:u.reduce((e,t)=>e+t.grossOtherAmount,0),totalEmployees:u.length},J=async()=>{var e,t,r,a,l,o,n;if(!M||!u.length||!s)return;let d=(0,R.H9)(A.db,"users",s.uid),i=await (0,R.x7)(d),m=!!i.exists()&&(null==(e=i.data().storeTimings)?void 0:e.sundayClosed)===!0,h=new Date(M.to);h.setHours(23,59,59,999);let p={};for(let e of S){p[e.employeeId]=[];let t=(0,R.rJ)(A.db,"users",s.uid,"employees",e.employeeId,"timeEntries"),r=(0,R.P)(t,(0,R._M)("timeIn",">=",M.from),(0,R._M)("timeIn","<=",h)),a=await (0,R.GG)(r),l={};for(let t in a.forEach(e=>{let t=e.data(),s=(0,c.GP)(t.timeIn.toDate(),"yyyy-MM-dd");if(l[s]||(l[s]={totalMinutes:0,entries:[]}),t.timeOut){let e=Math.round((t.timeOut.toDate().getTime()-t.timeIn.toDate().getTime())/6e4);l[s].totalMinutes+=e>0?e:0}l[s].entries.push({timeIn:t.timeIn,timeOut:t.timeOut})}),l){let s=(0,x.H)(t+"T12:00:00");(0,f.f)(s)&&p[e.employeeId].push({date:s,totalHours:l[t].totalMinutes/60,entries:l[t].entries})}}let g=P.utils.book_new(),N=[],v=(0,C.lV)(M.from),w=v?"Pay Date: ".concat((0,c.GP)(v,"LLL dd, yyyy")):"",H="".concat(_," - Pay Period: ").concat((0,c.GP)(M.from,"LLL dd, yyyy")," - ").concat((0,c.GP)(M.to,"LLL dd, yyyy")," - ").concat(w);N.push([H]),N.push(["Date","Metric",...S.map(e=>e.name.toUpperCase())]);let E=2;(0,y.k)({start:M.from,end:M.to}).forEach(e=>{let t=(0,b.P)(e);if(m&&0===t)return;let s=[(0,c.GP)(e,"eee, MMM dd"),"In:"],r=["","Out:"],a=["","Total:"];S.forEach(t=>{var l;let o=null==(l=p[t.employeeId])?void 0:l.find(t=>(0,j.r)(t.date,e)),n="-",d="-",i="-";if(o){if(o.entries.length>1)n="Multiple",d="Multiple";else if(1===o.entries.length){let e=o.entries[0];n=e.timeIn?(0,c.GP)(e.timeIn.toDate(),"p"):"-",d=e.timeOut?(0,c.GP)(e.timeOut.toDate(),"p"):e.timeIn?"ACTIVE":"-"}i=o.totalHours>0?parseFloat(o.totalHours.toFixed(2)):"-"}s.push(n),r.push(d),a.push(i)}),N.push(s,r,a),E+=3});let O=["Total Hours",null,...S.map(e=>(p[e.employeeId]||[]).reduce((e,t)=>e+t.totalHours,0)).map(e=>e>0?parseFloat(e.toFixed(2)):"")];N.push(O);let k=[{label:"COMMENTS",key:"comment",type:"input",isBold:!0},{label:"CHECK HOURS",key:"checkHours",type:"input",format:"hours",isBold:!0},{label:"OTHER HOURS",key:"otherHours",type:"input",format:"hours",isBold:!0},{label:"RATE/CHECK",key:"payRateCheck",type:"result",format:"currency",isBold:!0},{label:"RATE/OTHERS",key:"payRateOthers",type:"result",format:"currency",isBold:!0},{label:"OTHER-ADJ$",key:"otherAdjustment",type:"result",format:"currency",isBold:!0}];k.forEach(e=>{let t=[e.label,null];S.forEach(s=>{let r="input"===e.type?s:u.find(e=>e.employeeId===s.employeeId),a=r?r[e.key]:void 0;null!=a&&""!==a?"currency"===e.format?a=D(a):"hours"===e.format&&(a=T(a)):a="",t.push(a)}),N.push(t)}),N.push([null,null,...S.map(e=>e.name.toUpperCase())]);let I=[{label:"GROSS CHECK AMOUNT",key:"grossCheckAmount"},{label:"GROSS OTHER AMOUNT",key:"grossOtherAmount"}];I.forEach(e=>{let t=[e.label,null];u.forEach(s=>{let r=s[e.key];t.push("number"==typeof r?D(r):"")}),N.push(t)}),N.push(["GP","EMPLOYER","EMPLOYEE","DED","NET","OTHERS"]),N.push([D(K.totalNetPay),L.employer||"",L.employee||"",L.deductions||"",L.netPay||"",D(K.totalOtherPay)]);let G=P.utils.aoa_to_sheet(N),B=[{s:{r:0,c:0},e:{r:0,c:2+S.length-1}}];for(let e=2;e<N.length;e+=3){let s=null==(t=N[e])?void 0:t[0];if("string"==typeof s&&s.match(/^[A-Za-z]{3}, [A-Za-z]{3} \d{2}$/))B.push({s:{r:e,c:0},e:{r:e+2,c:0}});else break}N.forEach((e,t)=>{["Total Hours",...k.map(e=>e.label),...I.map(e=>e.label)].includes(e[0])&&B.push({s:{r:t,c:0},e:{r:t,c:1}})}),G["!merges"]=B;let U={border:{top:{style:"thick"},bottom:{style:"thick"},left:{style:"thick"},right:{style:"thick"}}},F={fill:{fgColor:{rgb:"ADD8E6"}}},V={fill:{fgColor:{rgb:"FFFF00"}}},$={fill:{fgColor:{rgb:"FFC7CE"}}},z=P.utils.decode_range(G["!ref"]||"A1");for(let e=z.s.r;e<=z.e.r;++e)for(let t=z.s.c;t<=z.e.c;++t){let s={c:t,r:e},d=P.utils.encode_cell(s);G[d]||(G[d]={t:"s",v:""});let i=G[d],c=i.s||{};0===e?c={...c,font:{bold:!0,sz:14},alignment:{horizontal:"center",vertical:"center"},...U}:1===e&&(c={...c,...U,font:{...c.font||{},bold:!0}});let u=null==(r=G[P.utils.encode_cell({c:1,r:e})])?void 0:r.v;if("string"==typeof u)if("Total:"===u)for(let t=0;t<=z.e.c;t++){let s=P.utils.encode_cell({c:t,r:e});G[s]||(G[s]={t:"s",v:""}),G[s].s={...G[s].s||{},...U,font:{...(null==(o=G[s].s)?void 0:o.font)||{},bold:!0}}}else 1===t&&("In:"===u||"Out:"===u)&&(c={...c,...U});t>1&&u&&("In:"===u||"Out:"===u)&&(c.border={...c.border||{},right:{style:"thick"}});let m=null==(a=N[e])?void 0:a[0];if("Total Hours"===m?c={...c,...F}:"GROSS CHECK AMOUNT"===m?c={...c,...V}:"GROSS OTHER AMOUNT"===m&&(c={...c,...$}),k.some(e=>e.label===m&&e.isBold)){let t=P.utils.encode_cell({c:0,r:e});G[t]&&(G[t].s={...G[t].s||{},font:{...(null==(n=G[t].s)?void 0:n.font)||{},bold:!0}})}if(new Set(["Total Hours","COMMENTS","CHECK HOURS","OTHER HOURS","RATE/CHECK","RATE/OTHERS","OTHER-ADJ$","GROSS CHECK AMOUNT","GROSS OTHER AMOUNT","GP"]).has(m))for(let t=0;t<=z.e.c;t++){let s=P.utils.encode_cell({c:t,r:e});G[s]||(G[s]={t:"s",v:""});let r=G[s].s||{};G[s].s={...r,...U}}if("GP"===(null==(l=N[N.length-2])?void 0:l[0])&&e===N.length-1)for(let t=0;t<=z.e.c;t++){let s=P.utils.encode_cell({c:t,r:e});G[s]||(G[s]={t:"s",v:""}),G[s].s={...G[s].s||{},...U}}e===N.length-4&&t>1&&(c={...c,font:{...c.font||{},bold:!0}}),i.s=c}let J=new Set(["Total Hours","COMMENTS","CHECK HOURS","OTHER HOURS","RATE/CHECK","RATE/OTHERS","OTHER-ADJ$","GROSS CHECK AMOUNT","GROSS OTHER AMOUNT","GP"]),Y=N.map((e,t)=>{if(0===t)return{hpt:30};let s=e[0],r=t===N.length-4&&e[2];return"string"==typeof s&&J.has(s)||r||t===N.length-1?{hpt:25}:{}});G["!rows"]=Y,G["!cols"]=[{wch:15},{wch:8},...Array(S.length).fill({wch:15})],P.utils.book_append_sheet(g,G,"Timesheet Report");let W="Payroll_Timesheet_".concat((0,c.GP)(M.from,"yyyy-MM-dd"),"_to_").concat((0,c.GP)(M.to,"yyyy-MM-dd"),".xlsx");P.writeFile(g,W)},Y=[{label:"Rate/Check",getValue:e=>D(e.payRateCheck)+"/hr"},{label:"Rate/Others",getValue:e=>D(e.payRateOthers)+"/hr"},{label:"Others-ADJ $",getValue:e=>D(e.otherAdjustment)},{label:"Gross Check Amount",getValue:e=>D(e.grossCheckAmount),isBold:!0},{label:"Gross Other Amount",getValue:e=>D(e.grossOtherAmount),isBold:!0},{label:"New VD Balance",getValue:e=>"(".concat(T(e.newVacationBalance),")")},{label:"New HD Balance",getValue:e=>"(".concat(T(e.newHolidayBalance),")")},{label:"New SD Balance",getValue:e=>"(".concat(T(e.newSickDayBalance),")")}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"report-actions flex justify-between items-center",children:[(0,r.jsxs)(l.$,{variant:"outline",onClick:()=>e.back(),children:[(0,r.jsx)(g.A,{className:"mr-2 h-4 w-4"})," Back"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,r.jsx)(l.$,{variant:"outline",asChild:!0,children:(0,r.jsxs)(k(),{href:"/dashboard/manager/payroll/run?id=".concat(d),children:[(0,r.jsx)(N.A,{className:"mr-2 h-4 w-4"})," Edit"]})}),(0,r.jsxs)(l.$,{variant:"outline",onClick:J,children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Export"]})]})]}),(0,r.jsxs)("div",{className:"report-content-wrapper border rounded-lg p-6 bg-card text-card-foreground",children:[(0,r.jsxs)("header",{className:"report-header text-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:_}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Payroll Report"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Pay Period: ",(0,c.GP)(M.from,"LLL dd, y")," - ",(0,c.GP)(M.to,"LLL dd,y")]})]}),(0,r.jsx)(o.w,{className:"my-6"}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payroll Inputs"}),(0,r.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,r.jsxs)(i.XI,{children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{className:"font-bold min-w-[200px]",children:"Metric"}),S.map(e=>(0,r.jsx)(i.nd,{className:"text-right min-w-[150px]",children:e.name},e.employeeId))]})}),(0,r.jsx)(i.BF,{children:[{key:"totalHoursWorked",label:"TOTAL HOURS WORKED"},{key:"checkHours",label:"CHECK HOURS"},{key:"otherHours",label:"OTHER HOURS"},{key:"vdHoursUsed",label:"VD HOURS"},{key:"hdHoursUsed",label:"HD HOURS"},{key:"sdHoursUsed",label:"SD HOURS"}].map(e=>(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nA,{className:"font-medium",children:e.label}),S.map(t=>(0,r.jsx)(i.nA,{className:"text-right tabular-nums",children:e.key.toLowerCase().includes("hours")?T(t[e.key]):t[e.key]},t.employeeId))]},e.key))})]})})]}),(0,r.jsx)(o.w,{className:"my-6"}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payroll Results"}),(0,r.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,r.jsxs)(i.XI,{children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{className:"font-bold min-w-[200px]",children:"Metric"}),u.map(e=>(0,r.jsx)(i.nd,{className:"text-right min-w-[150px]",children:e.name},e.employeeId))]})}),(0,r.jsx)(i.BF,{children:Y.map(e=>(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nA,{className:(0,n.cn)("font-medium",e.isBold&&"font-bold"),children:e.label}),u.map(t=>(0,r.jsx)(i.nA,{className:(0,n.cn)("text-right tabular-nums",{"font-semibold":e.isBold}),children:e.getValue(t)},t.employeeId))]},e.label))})]})})]}),(0,r.jsx)(o.w,{className:"my-6"}),(0,r.jsx)("section",{children:(0,r.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,r.jsxs)(i.XI,{children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{children:"GP"}),(0,r.jsx)(i.nd,{children:"EMPLOYER"}),(0,r.jsx)(i.nd,{children:"EMPLOYEE"}),(0,r.jsx)(i.nd,{children:"DED"}),(0,r.jsx)(i.nd,{children:"NET"}),(0,r.jsx)(i.nd,{children:"OTHERS"})]})}),(0,r.jsx)(i.BF,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nA,{className:"font-semibold tabular-nums",children:D(K.totalNetPay)}),(0,r.jsx)(i.nA,{children:L.employer||""}),(0,r.jsx)(i.nA,{children:L.employee||""}),(0,r.jsx)(i.nA,{children:L.deductions||""}),(0,r.jsx)(i.nA,{children:L.netPay||""}),(0,r.jsx)(i.nA,{className:"font-semibold tabular-nums",children:D(K.totalOtherPay)})]})})]})})})]}),(0,r.jsxs)("div",{className:"payslip-section mt-8 printable-section",children:[(0,r.jsx)("header",{className:"flex items-center justify-between mb-6",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,r.jsx)(w.A,{className:"mr-2 h-5 w-5"})," Individual Payslips"]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"A payslip for each employee included in this payroll run."})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 print:grid-cols-1",children:u.map(e=>{let t=S.find(t=>t.employeeId===e.employeeId);if(!t)return null;let s=$[e.employeeId]||{grossPay:0};return(0,r.jsx)(h,{companyName:_,payPeriod:M,result:e,input:t,ytdGrossPay:s.grossPay},e.employeeId)})})]})]})}function M(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"flex h-screen items-center justify-center",children:"Loading Report..."}),children:(0,r.jsx)(I,{})})}},59434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(52596),a=s(39688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},61976:()=>{},66695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>d,Zp:()=>o,aR:()=>n,wL:()=>u});var r=s(95155),a=s(12115),l=s(59434);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});o.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});n.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});i.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},68856:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var r=s(95155),a=s(59434);function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...s})}},70042:(e,t,s)=>{Promise.resolve().then(s.bind(s,58459))},71581:()=>{},73983:()=>{},84660:()=>{},85127:(e,t,s)=>{"use strict";s.d(t,{A0:()=>n,BF:()=>d,Gg:()=>i,Hj:()=>c,XI:()=>o,nA:()=>m,nd:()=>u,r6:()=>h});var r=s(95155),a=s(12115),l=s(59434);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",s),...a})})});o.displayName="Table";let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",s),...a})});n.displayName="TableHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...a})});d.displayName="TableBody";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})});i.displayName="TableFooter";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})});c.displayName="TableRow";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})});u.displayName="TableHead";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})});m.displayName="TableCell";let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...a})});h.displayName="TableCaption"}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7416,2394,8693,3796,3873,1784,5411,6371,8441,1684,7358],()=>t(70042)),_N_E=e.O()}]);