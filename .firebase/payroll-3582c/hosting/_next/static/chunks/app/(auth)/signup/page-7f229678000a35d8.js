(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{3328:(e,s,n)=>{"use strict";n.d(s,{SignupForm:()=>A});var a=n(5155),r=n(2115),l=n(221),i=n(2177),d=n(5594),t=n(285),o=n(7759),c=n(2523),m=n(6695),u=n(7481),x=n(6874),h=n.n(x),j=n(1949),y=n(3896),g=n(9100),p=n(9409),v=n(5695),N=n(3004),f=n(5317),M=n(6104),T=n(5365),b=n(5349);let P=/^(0?[1-9]|1[0-2]):[0-5][0-9]$/,S="Use HH:MM format (e.g., 09:00 or 05:00).",C=d.z.object({email:d.z.string().email({message:"Invalid email address."}),password:d.z.string().min(8,{message:"Password must be at least 8 characters."}).regex(/[0-9]/,{message:"Password must contain at least one number."}).regex(/[^a-zA-Z0-9]/,{message:"Password must contain at least one special character."}),confirmPassword:d.z.string(),companyName:d.z.string().min(1,{message:"Company name is required."}),payFrequency:d.z.string().default("bi-weekly"),standardBiWeeklyHours:d.z.coerce.number().positive({message:"Standard hours must be positive."}),openingTimeWeekdays:d.z.string().regex(P,{message:S}),openingTimeWeekdaysAmPm:d.z.enum(["AM","PM"]),closingTimeWeekdays:d.z.string().regex(P,{message:S}),closingTimeWeekdaysAmPm:d.z.enum(["AM","PM"]),openingTimeSaturday:d.z.string().regex(P,{message:S}),openingTimeSaturdayAmPm:d.z.enum(["AM","PM"]),closingTimeSaturday:d.z.string().regex(P,{message:S}),closingTimeSaturdayAmPm:d.z.enum(["AM","PM"]),sundayClosed:d.z.boolean(),openingTimeSunday:d.z.string().optional(),openingTimeSundayAmPm:d.z.enum(["AM","PM"]).optional(),closingTimeSunday:d.z.string().optional(),closingTimeSundayAmPm:d.z.enum(["AM","PM"]).optional()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}).superRefine((e,s)=>{!e.sundayClosed&&(e.openingTimeSunday&&P.test(e.openingTimeSunday)||s.addIssue({code:d.z.ZodIssueCode.custom,message:S,path:["openingTimeSunday"]}),e.closingTimeSunday&&P.test(e.closingTimeSunday)||s.addIssue({code:d.z.ZodIssueCode.custom,message:S,path:["closingTimeSunday"]}))});function A(){let{toast:e}=(0,u.dj)(),s=(0,v.useRouter)(),[n,d]=r.useState(!1),[x,P]=r.useState(null),S=(0,i.mN)({resolver:(0,l.u)(C),defaultValues:{email:"",password:"",confirmPassword:"",companyName:"",payFrequency:"bi-weekly",standardBiWeeklyHours:80,openingTimeWeekdays:"09:00",openingTimeWeekdaysAmPm:"AM",closingTimeWeekdays:"05:00",closingTimeWeekdaysAmPm:"PM",openingTimeSaturday:"10:00",openingTimeSaturdayAmPm:"AM",closingTimeSaturday:"03:00",closingTimeSaturdayAmPm:"PM",sundayClosed:!0,openingTimeSunday:"12:00",openingTimeSundayAmPm:"PM",closingTimeSunday:"05:00",closingTimeSundayAmPm:"PM"}}),A=S.watch("sundayClosed");async function w(n){if(d(!0),P(null),!M.j2||!M.db){P("Firebase is not configured correctly. Please contact support."),d(!1);return}try{let a=(await (0,N.eJ)(M.j2,n.email,n.password)).user;await (0,f.BN)((0,f.H9)(M.db,"users",a.uid),{email:a.email,companyName:n.companyName,payFrequency:n.payFrequency,standardBiWeeklyHours:n.standardBiWeeklyHours,storeTimings:{openWeekdays:"".concat(n.openingTimeWeekdays," ").concat(n.openingTimeWeekdaysAmPm),closeWeekdays:"".concat(n.closingTimeWeekdays," ").concat(n.closingTimeWeekdaysAmPm),openSaturday:"".concat(n.openingTimeSaturday," ").concat(n.openingTimeSaturdayAmPm),closeSaturday:"".concat(n.closingTimeSaturday," ").concat(n.closingTimeSaturdayAmPm),sundayClosed:n.sundayClosed,openSunday:n.sundayClosed?null:"".concat(n.openingTimeSunday," ").concat(n.openingTimeSundayAmPm),closeSunday:n.sundayClosed?null:"".concat(n.closingTimeSunday," ").concat(n.closingTimeSundayAmPm)},role:"manager",createdAt:new Date}),e({title:"Account Created Successfully!",description:"Redirecting you to the dashboard."}),s.push("/dashboard")}catch(s){let e="An unknown error occurred.";e="auth/email-already-in-use"===s.code?"This email address is already in use.":"Failed to create an account. Please try again.",console.error("Signup Error:",s),P(e)}finally{d(!1)}}return(0,a.jsxs)(m.Zp,{className:"w-full max-w-lg shadow-lg",children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{className:"text-2xl font-bold text-center text-primary",children:"Sign Up"}),(0,a.jsx)(m.BT,{className:"text-center",children:"Create your WorkRoll account."})]}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)(o.lV,{...S,children:(0,a.jsxs)("form",{onSubmit:S.handleSubmit(w),className:"space-y-4",children:[x&&(0,a.jsxs)(T.Fc,{variant:"destructive",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),(0,a.jsx)(T.XL,{children:"Signup Failed"}),(0,a.jsx)(T.TN,{children:x})]}),(0,a.jsx)(o.zB,{control:S.control,name:"companyName",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Company Name"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"Your Company LLC",...s,disabled:n})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"email",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Email"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"you@example.com",...s,disabled:n})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"password",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Password"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{type:"password",placeholder:"••••••••",...s,disabled:n})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"confirmPassword",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Confirm Password"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{type:"password",placeholder:"••••••••",...s,disabled:n})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(g.w,{className:"my-4"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Payroll Defaults"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set default values for your payroll runs."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,a.jsx)(o.zB,{control:S.control,name:"payFrequency",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Pay Frequency"}),(0,a.jsxs)(p.l6,{onValueChange:s.onChange,defaultValue:s.value,disabled:!0,children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(p.bq,{disabled:n,children:(0,a.jsx)(p.yv,{placeholder:"Select a frequency"})})}),(0,a.jsx)(p.gC,{children:(0,a.jsx)(p.eb,{value:"bi-weekly",children:"Bi-weekly"})})]}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"standardBiWeeklyHours",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{children:[(0,a.jsx)(o.lR,{children:"Standard Bi-Weekly Hours"}),(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{type:"number",placeholder:"e.g., 80",...s,disabled:n})}),(0,a.jsx)(o.C5,{})]})}})]})]}),(0,a.jsx)(g.w,{className:"my-4"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:"Store Hours"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Used to auto-clock out employees who forget."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,a.jsx)(o.lR,{className:"font-semibold",children:"Mon - Fri"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.lR,{className:"text-xs",children:"Opening Time"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.zB,{control:S.control,name:"openingTimeWeekdays",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{className:"flex-1",children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"09:00",...s,disabled:n})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"openingTimeWeekdaysAmPm",render:e=>{let{field:s}=e;return(0,a.jsx)(o.eI,{children:(0,a.jsxs)(p.l6,{onValueChange:s.onChange,value:s.value,children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(p.bq,{disabled:n,children:(0,a.jsx)(p.yv,{})})}),(0,a.jsxs)(p.gC,{children:[(0,a.jsx)(p.eb,{value:"AM",children:"AM"}),(0,a.jsx)(p.eb,{value:"PM",children:"PM"})]})]})})}})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.lR,{className:"text-xs",children:"Closing Time"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.zB,{control:S.control,name:"closingTimeWeekdays",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{className:"flex-1",children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"05:00",...s,disabled:n})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"closingTimeWeekdaysAmPm",render:e=>{let{field:s}=e;return(0,a.jsx)(o.eI,{children:(0,a.jsxs)(p.l6,{onValueChange:s.onChange,value:s.value,children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(p.bq,{disabled:n,children:(0,a.jsx)(p.yv,{})})}),(0,a.jsxs)(p.gC,{children:[(0,a.jsx)(p.eb,{value:"AM",children:"AM"}),(0,a.jsx)(p.eb,{value:"PM",children:"PM"})]})]})})}})]})]})]})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,a.jsx)(o.lR,{className:"font-semibold",children:"Saturday"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.lR,{className:"text-xs",children:"Opening Time"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.zB,{control:S.control,name:"openingTimeSaturday",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{className:"flex-1",children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"10:00",...s,disabled:n})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"openingTimeSaturdayAmPm",render:e=>{let{field:s}=e;return(0,a.jsx)(o.eI,{children:(0,a.jsxs)(p.l6,{onValueChange:s.onChange,value:s.value,children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(p.bq,{disabled:n,children:(0,a.jsx)(p.yv,{})})}),(0,a.jsxs)(p.gC,{children:[(0,a.jsx)(p.eb,{value:"AM",children:"AM"}),(0,a.jsx)(p.eb,{value:"PM",children:"PM"})]})]})})}})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.lR,{className:"text-xs",children:"Closing Time"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.zB,{control:S.control,name:"closingTimeSaturday",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{className:"flex-1",children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"03:00",...s,disabled:n})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"closingTimeSaturdayAmPm",render:e=>{let{field:s}=e;return(0,a.jsx)(o.eI,{children:(0,a.jsxs)(p.l6,{onValueChange:s.onChange,value:s.value,children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(p.bq,{disabled:n,children:(0,a.jsx)(p.yv,{})})}),(0,a.jsxs)(p.gC,{children:[(0,a.jsx)(p.eb,{value:"AM",children:"AM"}),(0,a.jsx)(p.eb,{value:"PM",children:"PM"})]})]})})}})]})]})]})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(o.lR,{className:"font-semibold",children:"Sunday"}),(0,a.jsx)(o.zB,{control:S.control,name:"sundayClosed",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(b.S,{checked:s.value,onCheckedChange:s.onChange,id:"sundayClosed"})}),(0,a.jsx)(o.lR,{htmlFor:"sundayClosed",className:"text-sm font-normal",children:"Closed"})]})}})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.lR,{className:"text-xs",children:"Opening Time"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.zB,{control:S.control,name:"openingTimeSunday",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{className:"flex-1",children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"12:00",...s,disabled:n||A})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"openingTimeSundayAmPm",render:e=>{let{field:s}=e;return(0,a.jsx)(o.eI,{children:(0,a.jsxs)(p.l6,{onValueChange:s.onChange,value:s.value,disabled:n||A,children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(p.bq,{children:(0,a.jsx)(p.yv,{})})}),(0,a.jsxs)(p.gC,{children:[(0,a.jsx)(p.eb,{value:"AM",children:"AM"}),(0,a.jsx)(p.eb,{value:"PM",children:"PM"})]})]})})}})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.lR,{className:"text-xs",children:"Closing Time"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.zB,{control:S.control,name:"closingTimeSunday",render:e=>{let{field:s}=e;return(0,a.jsxs)(o.eI,{className:"flex-1",children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(c.p,{placeholder:"05:00",...s,disabled:n||A})}),(0,a.jsx)(o.C5,{})]})}}),(0,a.jsx)(o.zB,{control:S.control,name:"closingTimeSundayAmPm",render:e=>{let{field:s}=e;return(0,a.jsx)(o.eI,{children:(0,a.jsxs)(p.l6,{onValueChange:s.onChange,value:s.value,disabled:n||A,children:[(0,a.jsx)(o.MJ,{children:(0,a.jsx)(p.bq,{children:(0,a.jsx)(p.yv,{})})}),(0,a.jsxs)(p.gC,{children:[(0,a.jsx)(p.eb,{value:"AM",children:"AM"}),(0,a.jsx)(p.eb,{value:"PM",children:"PM"})]})]})})}})]})]})]})]})]})]}),(0,a.jsx)(t.$,{type:"submit",className:"w-full",disabled:n,children:n?"Signing up...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"})," Sign Up"]})})]})}),(0,a.jsxs)("p",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,a.jsx)(h(),{href:"/login",className:"font-medium text-primary hover:underline",children:"Login"})]})]})]})}},3896:(e,s,n)=>{"use strict";n.d(s,{A:()=>a});let a=(0,n(157).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},5695:(e,s,n)=>{"use strict";var a=n(8999);n.o(a,"useRouter")&&n.d(s,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(s,{useSearchParams:function(){return a.useSearchParams}})},6143:(e,s,n)=>{Promise.resolve().then(n.bind(n,3328))},8905:(e,s,n)=>{"use strict";n.d(s,{C:()=>i});var a=n(2115),r=n(6101),l=n(2712),i=e=>{let{present:s,children:n}=e,i=function(e){var s,n;let[r,i]=a.useState(),t=a.useRef({}),o=a.useRef(e),c=a.useRef("none"),[m,u]=(s=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,s)=>{let a=n[e][s];return null!=a?a:e},s));return a.useEffect(()=>{let e=d(t.current);c.current="mounted"===m?e:"none"},[m]),(0,l.N)(()=>{let s=t.current,n=o.current;if(n!==e){let a=c.current,r=d(s);e?u("MOUNT"):"none"===r||(null==s?void 0:s.display)==="none"?u("UNMOUNT"):n&&a!==r?u("ANIMATION_OUT"):u("UNMOUNT"),o.current=e}},[e,u]),(0,l.N)(()=>{if(r){var e;let s,n=null!=(e=r.ownerDocument.defaultView)?e:window,a=e=>{let a=d(t.current).includes(e.animationName);if(e.target===r&&a&&(u("ANIMATION_END"),!o.current)){let e=r.style.animationFillMode;r.style.animationFillMode="forwards",s=n.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=e)})}},l=e=>{e.target===r&&(c.current=d(t.current))};return r.addEventListener("animationstart",l),r.addEventListener("animationcancel",a),r.addEventListener("animationend",a),()=>{n.clearTimeout(s),r.removeEventListener("animationstart",l),r.removeEventListener("animationcancel",a),r.removeEventListener("animationend",a)}}u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:a.useCallback(e=>{e&&(t.current=getComputedStyle(e)),i(e)},[])}}(s),t="function"==typeof n?n({present:i.isPresent}):a.Children.only(n),o=(0,r.s)(i.ref,function(e){var s,n;let a=null==(s=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:s.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?e.ref:(r=(a=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t));return"function"==typeof n||i.isPresent?a.cloneElement(t,{ref:o}):null};function d(e){return(null==e?void 0:e.animationName)||"none"}i.displayName="Presence"},9100:(e,s,n)=>{"use strict";n.d(s,{w:()=>c});var a=n(5155),r=n(2115),l=n(3655),i="horizontal",d=["horizontal","vertical"],t=r.forwardRef((e,s)=>{var n;let{decorative:r,orientation:t=i,...o}=e,c=(n=t,d.includes(n))?t:i;return(0,a.jsx)(l.sG.div,{"data-orientation":c,...r?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:s})});t.displayName="Separator";var o=n(9434);let c=r.forwardRef((e,s)=>{let{className:n,orientation:r="horizontal",decorative:l=!0,...i}=e;return(0,a.jsx)(t,{ref:s,decorative:l,orientation:r,className:(0,o.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",n),...i})});c.displayName=t.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[992,416,668,873,874,263,152,521,886,556,441,684,358],()=>s(6143)),_N_E=e.O()}]);